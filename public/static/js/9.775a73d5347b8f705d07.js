webpackJsonp([9],{I6JM:function(t,a){},Qfom:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={data:function(){return{pointData:[{name:"E仓库A1-1",x:"265",y:"325"},{name:"E仓库A1-2",x:"305",y:"275"},{name:"E仓库A1-3",x:"345",y:"225"},{name:"E仓库A1-4",x:"385",y:"175"},{name:"E仓库A1-5",x:"425",y:"125"},{name:"E仓库A1-6",x:"465",y:"75"},{name:"E仓库B1-1",x:"400",y:"390"},{name:"E仓库B1-2",x:"440",y:"340"},{name:"E仓库B1-3",x:"480",y:"290"},{name:"E仓库B1-4",x:"520",y:"240"},{name:"E仓库B1-5",x:"560",y:"190"},{name:"E仓库B1-6",x:"600",y:"140"},{name:"E仓库C1-1",x:"540",y:"455"},{name:"E仓库C1-2",x:"580",y:"405"},{name:"E仓库C1-3",x:"620",y:"355"},{name:"E仓库C1-4",x:"660",y:"305"},{name:"E仓库C1-5",x:"700",y:"255"},{name:"E仓库C1-6",x:"740",y:"205"},{name:"E仓库D1-1",x:"670",y:"515"},{name:"E仓库D1-2",x:"710",y:"465"},{name:"E仓库D1-3",x:"750",y:"415"},{name:"E仓库D1-4",x:"790",y:"365"},{name:"E仓库D1-5",x:"830",y:"315"},{name:"E仓库D1-6",x:"870",y:"265"}],stockSearchOptions:[{value:"1",label:"药品试剂"},{value:"2",label:"仪器设备"}],stockOptionsValue:"1",stockInputValue:"",basicData:[],pageIndex:1,pageTotal:0}},created:function(){this.getAllList(),console.log(this.$store.state.protocol),console.log(this.$store.state.host)},mounted:function(){document.getElementsByClassName("select_input")[0].childNodes[1].children[0].setAttribute("unselectable","on")},methods:{getAllList:function(){var t=this,a="";1==this.stockOptionsValue?a="药品试剂":2==this.stockOptionsValue&&(a="仪器设备"),this.$axios.post("/sort-big",{item_type:a,number:10}).then(function(a){for(var e in a.data.data&&(t.basicData=a.data.data.data,t.pageTotal=a.data.data.total),t.basicData)null==t.basicData[e].photo?t.basicData[e].pic=null:t.basicData[e].pic=t.basicData[e].photo.split("/")[1]}).catch(function(t){})},stockChange:function(){var t=this;this.stockInputValue="",this.pageIndex=1;var a="";1==this.stockOptionsValue?a="药品试剂":2==this.stockOptionsValue&&(a="仪器设备"),this.$axios.post("/sort-big",{item_type:a,number:"10"}).then(function(a){if(a.data.data)for(var e in t.pageTotal=a.data.data.total,t.basicData=a.data.data.data,t.basicData)null==t.basicData[e].photo?t.basicData[e].pic=null:t.basicData[e].pic=t.basicData[e].photo.split("/")[1];else t.pageTotal=0,t.basicData=[]})},searchStockClick:function(){var t=this,a="";this.pageIndex=1,1==this.stockOptionsValue?a="药品试剂":2==this.stockOptionsValue&&(a="仪器设备"),this.$axios.post("/sort-big",{item_type:a,number:"10",sort_name:this.stockInputValue}).then(function(a){if(a.data.data)for(var e in t.pageTotal=a.data.data.total,t.basicData=a.data.data.data,t.basicData)null==t.basicData[e].photo?t.basicData[e].pic=null:t.basicData[e].pic=t.basicData[e].photo.split("/")[1];else t.pageTotal=0,t.basicData=[]})},handleCurrentChange:function(t){var a=this,e="";1==this.stockOptionsValue?e="药品试剂":2==this.stockOptionsValue&&(e="仪器设备"),this.$axios.post("/sort-big",{item_type:e,number:"10",page:t,sort_name:this.stockInputValue}).then(function(t){if(t.data.data)for(var e in a.pageTotal=t.data.data.total,a.basicData=t.data.data.data,a.basicData)null==a.basicData[e].photo?a.basicData[e].pic=null:a.basicData[e].pic=a.basicData[e].photo.split("/")[1];else a.pageTotal=0,a.basicData=[]})},handleDetail:function(t,a){1==this.stockOptionsValue?("药品试剂",this.$router.push("/drug/"+a.id)):2==this.stockOptionsValue&&("仪器设备",this.$router.push("/instrument/"+a.id))}},filters:{address:function(t){var a=[{name:"E仓库A1-1",x:"265",y:"325"},{name:"E仓库A1-2",x:"305",y:"275"},{name:"E仓库A1-3",x:"345",y:"225"},{name:"E仓库A1-4",x:"385",y:"175"},{name:"E仓库A1-5",x:"425",y:"125"},{name:"E仓库A1-6",x:"465",y:"75"},{name:"E仓库B1-1",x:"400",y:"390"},{name:"E仓库B1-2",x:"440",y:"340"},{name:"E仓库B1-3",x:"480",y:"290"},{name:"E仓库B1-4",x:"520",y:"240"},{name:"E仓库B1-5",x:"560",y:"190"},{name:"E仓库B1-6",x:"600",y:"140"},{name:"E仓库C1-1",x:"540",y:"455"},{name:"E仓库C1-2",x:"580",y:"405"},{name:"E仓库C1-3",x:"620",y:"355"},{name:"E仓库C1-4",x:"660",y:"305"},{name:"E仓库C1-5",x:"700",y:"255"},{name:"E仓库C1-6",x:"740",y:"205"},{name:"E仓库D1-1",x:"670",y:"515"},{name:"E仓库D1-2",x:"710",y:"465"},{name:"E仓库D1-3",x:"750",y:"415"},{name:"E仓库D1-4",x:"790",y:"365"},{name:"E仓库D1-5",x:"830",y:"315"},{name:"E仓库D1-6",x:"870",y:"265"}];for(var e in a){if("POINT("+a[e].x+" "+a[e].y+")"==t)return a[e].name}}}},s={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"homepage"},[t._m(0),t._v(" "),n("div",{staticClass:"stock_title"},[n("span",[t._v("库存物品基础信息")]),t._v(" "),n("div",{staticClass:"search_input el-input el-input--suffix"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.stockInputValue,expression:"stockInputValue"}],staticClass:"p_search el-input__inner",attrs:{autocomplete:"off",placeholder:"请输入要搜索的物品名称",type:"text",rows:"2",validateevent:"true",suffixicon:"el-icon-search"},domProps:{value:t.stockInputValue},on:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter")&&t._k(a.keyCode,"active",void 0,a.key,void 0))return null;t.searchStockClick()},input:function(a){a.target.composing||(t.stockInputValue=a.target.value)}}}),t._v(" "),n("span",{staticClass:"el-input__suffix",on:{click:function(a){t.searchStockClick()}}},[t._m(1)])]),t._v(" "),n("el-select",{staticClass:"select_input",on:{change:function(a){t.stockChange()}},model:{value:t.stockOptionsValue,callback:function(a){t.stockOptionsValue=a},expression:"stockOptionsValue"}},t._l(t.stockSearchOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("el-table",{staticClass:"basic_table",staticStyle:{width:"100%"},attrs:{data:t.basicData,stripe:""}},[n("el-table-column",{attrs:{prop:"id",label:"大类编号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"pic",label:"大类图片"},scopedSlots:t._u([{key:"default",fn:function(a){return[1==t.stockOptionsValue?n("img",{attrs:{src:e("FGnH"),alt:""}}):t._e(),t._v(" "),2==t.stockOptionsValue?n("img",{attrs:{src:e("6mcn"),alt:""}}):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"sort_name",label:"大类名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"stock",label:"总量"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("span",[t._v(t._s(a.row.stock))]),1==t.stockOptionsValue?n("span",[t._v("瓶")]):t._e(),2==t.stockOptionsValue?n("span",[t._v("个")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.handleDetail(a.$index,a.row)}}},[t._v("查看详情")])]}}])})],1),t._v(" "),n("div",{staticClass:"block",staticStyle:{"text-align":"center","margin-top":"30px"}},[n("el-pagination",{attrs:{"current-page":t.pageIndex,"page-size":10,layout:"total, prev, pager, next, jumper",total:t.pageTotal},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.pageIndex=a}}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"bread_crumb"},[a("span",[this._v("当前位置：")]),this._v(" "),a("span",[this._v("库存管理")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"el-input__suffix-inner"},[a("i",{staticClass:"el-input__icon iconfont el-icon-pharmaceutical_administration-sousuo"})])}]};var i=e("VU/8")(n,s,!1,function(t){e("I6JM")},null,null);a.default=i.exports}});
//# sourceMappingURL=9.775a73d5347b8f705d07.js.map
webpackJsonp([2],{Pi7S:function(r,t){},VDeL:function(r,t,e){r.exports=e.p+"static/img/login_pic.a752cd3.png"},xJsL:function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("mvHQ"),o=e.n(s),a={name:"login",data:function(){return{checked:!1,ruleForm:{name:"",userError:"",password:"",passwordError:"",beDisabled:!1}}},methods:{inputBlur:function(r,t){"name"===r?this.ruleForm.userError=""===t?"用户名不能为空!":"":"password"===r&&(this.ruleForm.passwordError=""===t?"密码不能为空!":"")},submitForm:function(r,t){var e=this,s=this;""==r||""==t?(this.ruleForm.userError="用户名不能为空!",this.ruleForm.passwordError="密码不能为空!"):this.$axios.post("/login",{name:this.ruleForm.name,password:this.ruleForm.password}).then(function(r){if("200"==r.data.status_code){var t=r.data.data;t.token=r.data.token,localStorage.setItem("user",o()(t)),1==r.data.data.is_admin?s.$router.push("/manifest"):s.$router.push("/homepage")}else e.$message.error("你输入的用户名或密码不正确"),e.ruleForm.name="",e.ruleForm.password=""})}}},n={render:function(){var r=this,t=r.$createElement,s=r._self._c||t;return s("div",{staticClass:"login"},[r._m(0),r._v(" "),s("div",{staticClass:"banner"},[s("img",{attrs:{src:e("VDeL"),alt:""}}),r._v(" "),s("div",{staticClass:"formData"},[s("form",{attrs:{action:""}},[s("div",{staticClass:"formTitle"},[r._v("账号登录")]),r._v(" "),s("div",{staticClass:"input-group"},[r._m(1),r._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:r.ruleForm.name,expression:"ruleForm.name"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:r.ruleForm.name},on:{blur:function(t){r.inputBlur("name",r.ruleForm.name)},input:function(t){t.target.composing||r.$set(r.ruleForm,"name",t.target.value)}}}),r._v(" "),s("p",{staticStyle:{position:"absolute",left:"45px",top:"45px","font-size":"12px",color:"red"}},[r._v(r._s(r.ruleForm.userError))])]),r._v(" "),s("div",{staticClass:"input-group"},[r._m(2),r._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:r.ruleForm.password,expression:"ruleForm.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:r.ruleForm.password},on:{blur:function(t){r.inputBlur("password",r.ruleForm.password)},keyup:function(t){if(!("button"in t)&&r._k(t.keyCode,"enter",13,t.key,"Enter"))return null;r.submitForm(r.ruleForm.name,r.ruleForm.password)},input:function(t){t.target.composing||r.$set(r.ruleForm,"password",t.target.value)}}}),r._v(" "),s("p",{staticStyle:{position:"absolute",left:"45px",top:"45px","font-size":"12px",color:"red"}},[r._v("\n                        "+r._s(r.ruleForm.passwordError))])]),r._v(" "),s("button",{attrs:{type:"button",disabled:r.ruleForm.beDisabled,plain:!0},on:{click:function(t){r.submitForm(r.ruleForm.name,r.ruleForm.password)}}},[r._v("登录\n                ")])])])])])},staticRenderFns:[function(){var r=this.$createElement,t=this._self._c||r;return t("div",{staticClass:"top"},[t("b",[this._v("学校实验室仓管系统")]),this._v(" "),t("div"),this._v(" "),t("span",[this._v("欢迎登录")])])},function(){var r=this.$createElement,t=this._self._c||r;return t("span",[t("i",{staticClass:"iconfont el-icon-pharmaceutical_administration-zhanghao"})])},function(){var r=this.$createElement,t=this._self._c||r;return t("span",[t("i",{staticClass:"iconfont el-icon-pharmaceutical_administration-icon2"})])}]};var i=e("VU/8")(a,n,!1,function(r){e("Pi7S")},"data-v-9c46b9aa",null);t.default=i.exports}});
//# sourceMappingURL=2.6082ed68e1ceb33c9971.js.map
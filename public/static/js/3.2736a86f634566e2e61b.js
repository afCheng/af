webpackJsonp([3],{BRub:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n=a("pFYg"),l=a.n(n),o="Bearer "+JSON.parse(localStorage.getItem("user")).token,r={data:function(){return{pickerOptions1:{disabledDate:function(t){return t.getTime()+864e5<Date.now()}},instrumentSearchOptions:[{value:"2",label:"全部"},{value:"1",label:"已借出"},{value:"0",label:"在仓库"}],instrumentOptionsValue:"2",instrumentData:[],selectTable:[],pageIndex:1,pageTotal:0,dangerousList:[{label:"危险品"},{label:"非危险品"}],editStatus:!1,editData:{item_name:"",type:"",sort_id:"",stock:"",unit:"",overdue_at:"",frid_id:"",dangerous:"",frid_number:"",introduce:"",file:{}},rules:{item_name:[{required:!0,message:"请输入名称",trigger:"blur"}],sort_id:[{required:!0,message:"请选择分类",trigger:"change"}],stock:[{required:!0,message:"请输入入库数量",trigger:"blur"}],unit:[{required:!0,message:"请选择单位",trigger:"change"}],overdue_date:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],frid_id:[{required:!0,message:"请输入标签ID",trigger:"blur"}],frid_number:[{required:!0,message:"请输入标签ID",trigger:"blur"}]},imageUrl:"",uploadEditFile:{item_id:"",type:"",item_name:"",sort_id:"",frid_id:"",stock:"",unit:"",overdue_at:"",introduce:"",situation:"",s_content:"",is_putaway:0},myToken:{Authorization:o},fileList3:[],sortList:[],unitList:[{label:"g"},{label:"ml"},{label:"个"}],mapStatus:!1,pointData:[{name:"E仓库A1-1",x:"265",y:"325"},{name:"E仓库A1-2",x:"305",y:"275"},{name:"E仓库A1-3",x:"345",y:"225"},{name:"E仓库A1-4",x:"385",y:"175"},{name:"E仓库A1-5",x:"425",y:"125"},{name:"E仓库A1-6",x:"465",y:"75"},{name:"E仓库B1-1",x:"400",y:"390"},{name:"E仓库B1-2",x:"440",y:"340"},{name:"E仓库B1-3",x:"480",y:"290"},{name:"E仓库B1-4",x:"520",y:"240"},{name:"E仓库B1-5",x:"560",y:"190"},{name:"E仓库B1-6",x:"600",y:"140"},{name:"E仓库C1-1",x:"540",y:"455"},{name:"E仓库C1-2",x:"580",y:"405"},{name:"E仓库C1-3",x:"620",y:"355"},{name:"E仓库C1-4",x:"660",y:"305"},{name:"E仓库C1-5",x:"700",y:"255"},{name:"E仓库C1-6",x:"740",y:"205"},{name:"E仓库D1-1",x:"670",y:"515"},{name:"E仓库D1-2",x:"710",y:"465"},{name:"E仓库D1-3",x:"750",y:"415"},{name:"E仓库D1-4",x:"790",y:"365"},{name:"E仓库D1-5",x:"830",y:"315"},{name:"E仓库D1-6",x:"870",y:"265"}],oldLocation:"",selectLocation:"",selectIndex:"0",tableIndex:"1",frid_id:"",clickIndex:"",showRecords:!1,receivedData:[],returnData:[]}},created:function(){this.$store.state.sideIndex=1,this.getList(),this.getSortId()},mounted:function(){document.getElementsByClassName("select_input")[0].childNodes[1].children[0].setAttribute("unselectable","on")},methods:{getSortId:function(){var t=this;this.$axios.post("/sort-list").then(function(e){t.sortList=e.data.data})},goHome:function(){this.$router.push("/homepage")},getList:function(){var t=this;this.$axios.post("/list",{item_type:"仪器设备",number:5,sort_id:this.$route.params.id,status:this.instrumentOptionsValue}).then(function(e){if(void 0==e.data.data.data)t.instrumentData=[],t.pageTotal=0;else for(var a in t.instrumentData=e.data.data.data,t.pageTotal=e.data.data.total,t.instrumentData)null==t.instrumentData[a].photo?t.instrumentData[a].pic=null:t.instrumentData[a].pic=t.instrumentData[a].photo.split("/")[1]}).catch(function(t){})},changeInstrumentType:function(){var t=this;this.selectTable=[],this.$refs.selTable.clearSelection(),this.$axios.post("/list",{item_type:"仪器设备",number:5,sort_id:this.$route.params.id,status:this.instrumentOptionsValue}).then(function(e){if(t.showRecords=!1,t.receivedData=[],e.data.data)for(var a in t.instrumentData=e.data.data.data,t.pageTotal=e.data.data.total,t.instrumentData)null==t.instrumentData[a].photo?t.instrumentData[a].pic=null:t.instrumentData[a].pic=t.instrumentData[a].photo.split("/")[1];else t.instrumentData=[],t.pageTotal=0}).catch(function(t){})},handleChangeEditPic:function(t,e){this.editData.file=t,this.imageUrl=t.url},editInstrument:function(){1==this.selectTable.length?(this.editStatus=!0,this.oldLocation=this.selectTable[0].s_content,this.editData=this.selectTable[0],this.editData.photo?this.imageUrl=this.$store.state.operationPhotoPath+this.editData.photo.split("/")[1]:this.imageUrl="",this.$nextTick(function(){for(var t=document.getElementsByClassName("add_input"),e=0;e<t.length;e++){t[e].childNodes[1].children[0].setAttribute("unselectable","on")}})):0==this.selectTable.length?this.$message({message:"请选择需要编辑的物品！",type:"warning",duration:"1500"}):this.$message({message:"只能选取一项进行编辑操作！",type:"warning",duration:"1500"})},closeEditBox:function(){this.selectTable=[],this.$refs.selTable.clearSelection(),this.resetForm("editData"),this.editData.file={},this.imageUrl="",this.editStatus=!1,this.handleCurrentChange(this.pageIndex),this.$message({type:"info",message:"已取消编辑",duration:"1500"})},submitEdit:function(t){var e=this;console.log(this.editData),this.$refs[t].validate(function(t){if(!t)return!1;if(void 0==e.editData.file){var a="";a=e.oldLocation==e.editData.s_content?{item_id:e.editData.item_id,item_name:e.editData.item_name,sort_id:e.editData.sort_id,stock:e.editData.stock,unit:e.editData.unit,dangerous:e.editData.dangerous,overdue_at:e.editData.overdue_at,frid_id:e.editData.frid_id,introduce:e.editData.introduce,is_putaway:0,type:"仪器设备",status:e.editData.status}:{item_id:e.editData.item_id,item_name:e.editData.item_name,sort_id:e.editData.sort_id,stock:e.editData.stock,unit:e.editData.unit,dangerous:e.editData.dangerous,overdue_at:e.editData.overdue_at,frid_id:e.editData.frid_id,introduce:e.editData.introduce,is_putaway:0,type:"仪器设备",s_content:e.editData.s_content,situation:e.editData.situation,status:e.editData.status},e.$axios.post("/item-edit",a).then(function(t){"0"==t.data.status?(e.handleCurrentChange(e.pageIndex),e.editStatus=!1,e.selectTable=[],e.$refs.selTable.clearSelection(),e.$message({type:"success",message:"编辑成功！",duration:"1500"})):e.$message({type:"warning",message:"编辑失败",duration:"1500"})}).catch(function(t){})}else e.oldLocation==e.editData.s_content?(e.uploadEditFile.item_id=e.editData.item_id,e.uploadEditFile.item_name=e.editData.item_name,e.uploadEditFile.sort_id=e.editData.sort_id,e.uploadEditFile.stock=e.editData.stock,e.uploadEditFile.unit=e.editData.unit,e.uploadEditFile.dangerous=e.editData.dangerous,e.uploadEditFile.overdue_at=e.editData.overdue_at,e.uploadEditFile.frid_id=e.editData.frid_id,e.uploadEditFile.introduce=e.editData.introduce,e.uploadEditFile.is_putaway=0,e.uploadEditFile.type="仪器设备",e.$refs.upload.submit()):(e.uploadEditFile.item_id=e.editData.item_id,e.uploadEditFile.item_name=e.editData.item_name,e.uploadEditFile.sort_id=e.editData.sort_id,e.uploadEditFile.stock=e.editData.stock,e.uploadEditFile.unit=e.editData.unit,e.uploadEditFile.dangerous=e.editData.dangerous,e.uploadEditFile.overdue_at=e.editData.overdue_at,e.uploadEditFile.frid_id=e.editData.frid_id,e.uploadEditFile.introduce=e.editData.introduce,e.uploadEditFile.is_putaway=0,e.uploadEditFile.type="仪器设备",e.uploadEditFile.s_content=e.editData.s_content,e.uploadEditFile.situation=e.editData.situation,e.$refs.upload.submit())})},handleAvatarSuccess:function(t,e){console.log(t),0==t.status?(this.handleCurrentChange(this.pageIndex),this.selectTable=[],this.editStatus=!1,this.$refs.selTable.clearSelection(),this.$message({type:"success",message:"编辑成功！",duration:"1500"})):this.$message({type:"warning",message:"编辑失败",duration:"1500"})},resetForm:function(t){this.$refs[t].resetFields()},changeEditDate:function(){if(null==this.editData.overdue_at)this.editData.overdue_at="";else{var t=new Date(this.editData.overdue_at),e=t.getFullYear()+"-",a=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",i=t.getDate()<10?"0"+t.getDate():t.getDate();this.editData.overdue_at=e+a+i}},chooseAddress:function(){this.mapStatus=!0,this.selectIndex=0,this.selectLocation=this.pointData[0]},chooseLocationClick:function(t,e){this.selectIndex=e,this.selectLocation=t;var a=document.getElementById("sideBox");e<11?a.scrollTop=0:e>=11&&e<22?a.scrollTop=429:e>=22&&(a.scrollTop=858)},chooseLocationRightClick:function(t,e){this.selectIndex=e,this.selectLocation=t},confirmShelfLocation:function(){var t="POINT("+((parseInt(this.selectLocation.x)+15)/1200).toFixed(3)+" "+((parseInt(this.selectLocation.y)+30)/900).toFixed(3)+")";this.editData.s_content=this.selectLocation.name,this.editData.situation=t,this.mapStatus=!1},closeShelfMap:function(){this.mapStatus=!1},deleteInstrument:function(){var t=this;if(0==this.selectTable.length)this.$message({message:"请选择需要删除的物品！",type:"warning",duration:"1500"});else{var e=[];for(var a in this.selectTable)e.push({item_id:this.selectTable[a].item_id});this.$confirm("此操作将永久删除被选中的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/item-del",{item:e}).then(function(e){0==e.data.status&&(t.$message({type:"success",message:"删除成功!",duration:"1500"}),t.showRecords=!1,t.selectTable=[],t.$refs.selTable.clearSelection(),t.handleCurrentChange(1))}).catch(function(e){t.$message({type:"warning",message:e.message,duration:"1500"})})}).catch(function(){t.$message({type:"info",message:"已取消删除",duration:"1500"})})}},instrumentSelectionChange:function(t){},checkInstrumentSingle:function(t,e){var a=!0,i="";for(var s in this.selectTable)this.selectTable[s].item_id==e.item_id&&(a=!1,i=s);a?this.selectTable.push(e):this.selectTable.splice(i,1)},checkInstrumentAll:function(t){if(0==t.length)for(var e in this.instrumentData)for(var a in this.selectTable)this.instrumentData[e].item_id==this.selectTable[a].item_id&&this.selectTable.splice(a,1);else{if(0==this.selectTable.length)this.selectTable=t;else for(var i in t)this.selectTable.push(t[i]);this.selectTable=this.unique(this.selectTable)}},unique:function(t){var e={};return t.filter(function(t,a,i){return!e.hasOwnProperty((void 0===t?"undefined":l()(t))+s()(t))&&(e[(void 0===t?"undefined":l()(t))+s()(t)]=!0)})},handleCurrentChange:function(t){var e=this;this.$axios.post("/list",{item_type:"仪器设备",number:5,page:t,sort_id:this.$route.params.id,status:this.instrumentOptionsValue}).then(function(t){var a=[];if(t.data.data){for(var i in e.instrumentData=t.data.data.data,e.pageTotal=t.data.data.total,e.instrumentData)null==e.instrumentData[i].photo?e.instrumentData[i].pic=null:e.instrumentData[i].pic=e.instrumentData[i].photo.split("/")[1];for(var s in e.instrumentData)for(var n in e.selectTable)e.instrumentData[s].item_id==e.selectTable[n].item_id&&a.push(e.instrumentData[s]);e.$nextTick(function(){this.checkedChoose(a)})}else e.instrumentData=[],e.pageTotal=0}).catch(function(t){})},checkedChoose:function(t){var e=this;t.forEach(function(t){e.$refs.selTable.toggleRowSelection(t,!0)})},checkList:function(t){var e=this;null==t||(this.tableIndex=1,this.frid_id=t.frid_id,this.clickIndex=t.item_id,this.$axios.post("/receive-list",{frid_id:this.frid_id,number:1e16}).then(function(t){void 0==t.data.data.data?e.receivedData=[]:e.receivedData=t.data.data.data,e.showRecords=!0}).catch(function(t){}))},changeTable:function(t){var e=this;this.tableIndex=t,1==t?this.$axios.post("/receive-list",{frid_id:this.frid_id,number:1e16}).then(function(t){void 0==t.data.data.data?e.receivedData=[]:e.receivedData=t.data.data.data}).catch(function(t){}):this.$axios.post("/restore-list",{frid_id:this.frid_id,number:1e16}).then(function(t){console.log(t),void 0==t.data.data.data?e.returnData=[]:e.returnData=t.data.data.data}).catch(function(t){})}},filters:{c_at:function(t){return t?t.split(" ")[0]:""},return_date:function(t){return t?t.split(" ")[0]:""},address:function(t){var e=[{name:"E仓库A1-1",x:"265",y:"325"},{name:"E仓库A1-2",x:"305",y:"275"},{name:"E仓库A1-3",x:"345",y:"225"},{name:"E仓库A1-4",x:"385",y:"175"},{name:"E仓库A1-5",x:"425",y:"125"},{name:"E仓库A1-6",x:"465",y:"75"},{name:"E仓库B1-1",x:"400",y:"390"},{name:"E仓库B1-2",x:"440",y:"340"},{name:"E仓库B1-3",x:"480",y:"290"},{name:"E仓库B1-4",x:"520",y:"240"},{name:"E仓库B1-5",x:"560",y:"190"},{name:"E仓库B1-6",x:"600",y:"140"},{name:"E仓库C1-1",x:"540",y:"455"},{name:"E仓库C1-2",x:"580",y:"405"},{name:"E仓库C1-3",x:"620",y:"355"},{name:"E仓库C1-4",x:"660",y:"305"},{name:"E仓库C1-5",x:"700",y:"255"},{name:"E仓库C1-6",x:"740",y:"205"},{name:"E仓库D1-1",x:"670",y:"515"},{name:"E仓库D1-2",x:"710",y:"465"},{name:"E仓库D1-3",x:"750",y:"415"},{name:"E仓库D1-4",x:"790",y:"365"},{name:"E仓库D1-5",x:"830",y:"315"},{name:"E仓库D1-6",x:"870",y:"265"}];for(var a in e){if("POINT("+e[a].x+" "+e[a].y+")"==t)return e[a].name}},article_status:function(t){return 1==t?"已借出":"在仓库"},overdue_status:function(t){return 1==t?"否":"是"}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"instrument"},[i("div",{staticClass:"bread_crumb"},[i("span",[t._v("当前位置：")]),t._v(" "),i("span",{staticClass:"bread_title",on:{click:function(e){t.goHome()}}},[t._v("库存管理")]),t._v(" "),i("span",[t._v("| 小类管理")])]),t._v(" "),i("div",{staticClass:"stock_title"},[i("span",[t._v("库存物品详细信息")]),t._v(" "),i("el-select",{staticClass:"select_input",on:{change:function(e){t.changeInstrumentType()}},model:{value:t.instrumentOptionsValue,callback:function(e){t.instrumentOptionsValue=e},expression:"instrumentOptionsValue"}},t._l(t.instrumentSearchOptions,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),i("el-button",{class:0!=t.selectTable.length?"right_btn":"disClick",attrs:{type:"primary"},on:{click:function(e){t.deleteInstrument()}}},[t._v("删除")]),t._v(" "),i("el-button",{class:0!=t.selectTable.length?"right_btn":"disClick",attrs:{type:"primary"},on:{click:function(e){t.editInstrument()}}},[t._v("编辑")])],1),t._v(" "),i("el-table",{ref:"selTable",staticClass:"instrument_table",staticStyle:{width:"100%"},attrs:{data:t.instrumentData,stripe:"","highlight-current-row":""},on:{"selection-change":t.instrumentSelectionChange,"current-change":t.checkList,select:t.checkInstrumentSingle,"select-all":t.checkInstrumentAll}},[i("el-table-column",{attrs:{type:"selection",width:"55"}},[t._v("全选")]),t._v(" "),i("el-table-column",{attrs:{prop:"item_id",label:"物品编号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"pic",label:"物品图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.pic?i("img",{attrs:{src:t.$store.state.operationPhotoPath+e.row.pic,alt:""}}):t._e(),t._v(" "),e.row.pic?t._e():i("img",{attrs:{src:a("FGnH"),alt:""}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"item_name",label:"物品名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"sort_name",label:"大类名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"dangerous",label:"分类"}}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("article_status")(e.row.status)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"存量"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.stock)+t._s(e.row.unit))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"入库时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("c_at")(e.row.created_at)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"overdue_at",label:"下次维护时间"}}),t._v(" "),i("el-table-column",{attrs:{prop:"s_content",label:"存放位置","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{prop:"introduce",label:"备注","show-overflow-tooltip":""}})],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center","margin-top":"30px"}},[i("el-pagination",{attrs:{"current-page":t.pageIndex,"page-size":5,layout:"total, prev, pager, next, jumper",total:t.pageTotal},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageIndex=e}}})],1),t._v(" "),t.showRecords?i("div",{staticClass:"stock_tabs"},[i("ul",{staticClass:"tabs_lists"},[i("li",{class:1==t.tableIndex?"stock_tabs_active":"",on:{click:function(e){t.changeTable(1)}}},[t._v("\n                历史领用记录\n                "),i("span")]),t._v(" "),i("li",{class:2==t.tableIndex?"stock_tabs_active":"",on:{click:function(e){t.changeTable(2)}}},[t._v("\n                历史归还记录\n                "),i("span")])]),t._v(" "),i("el-table",{directives:[{name:"show",rawName:"v-show",value:1==t.tableIndex,expression:"tableIndex == 1"}],staticClass:"history_table",staticStyle:{width:"100%"},attrs:{data:t.receivedData,stripe:"","max-height":"426"}},[i("el-table-column",{attrs:{prop:"user_name",label:"申领人",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"receive_at",label:"领用时间",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"overdue_at",label:"逾期时间",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"item_use",label:"用途"}}),t._v(" "),i("el-table-column",{attrs:{prop:"approver",label:"审批人"}}),t._v(" "),i("el-table-column",{attrs:{prop:"recipient",label:"经办人"}}),t._v(" "),i("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1),t._v(" "),i("el-table",{directives:[{name:"show",rawName:"v-show",value:2==t.tableIndex,expression:"tableIndex == 2"}],staticClass:"received_table",staticStyle:{width:"100%"},attrs:{data:t.returnData,stripe:"","max-height":"426"}},[i("el-table-column",{attrs:{prop:"user_name",label:"申领人",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"created_at",label:"归还时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("return_date")(e.row.created_at)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"usage",label:"归还数量",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{label:"是否逾期"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("overdue_status")(e.row.is_overdue)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"recipient",label:"接收人"}}),t._v(" "),i("el-table-column",{attrs:{prop:"remarks",label:"备注"}})],1)],1):t._e(),t._v(" "),t.editStatus?i("div",{staticClass:"instrument_edit"},[i("div",{staticClass:"edit"},[i("div",{staticClass:"edit_title"},[i("span",[t._v("编辑")]),t._v(" "),i("i",{staticClass:"el-icon-close",on:{click:function(e){t.closeEditBox()}}})]),t._v(" "),i("div",{staticClass:"edit_main"},[i("el-form",{ref:"editData",staticClass:"demo-ruleForm",attrs:{model:t.editData,rules:t.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"名称",prop:"item_name"}},[i("el-input",{attrs:{readonly:""},model:{value:t.editData.item_name,callback:function(e){t.$set(t.editData,"item_name",e)},expression:"editData.item_name"}})],1),t._v(" "),i("div",{staticClass:"right_picture"},[i("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"/api/item-edit","show-file-list":!1,accept:"image/*","on-success":t.handleAvatarSuccess,headers:t.myToken,"on-change":t.handleChangeEditPic,data:t.uploadEditFile,"file-list":t.fileList3,"auto-upload":!1}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):t._e(),t._v(" "),t.imageUrl?t._e():i("img",{staticClass:"avatar",attrs:{src:a("FGnH")}}),t._v(" "),i("el-button",{staticClass:"up"},[t._v("修改图片")])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"大类名称",prop:"sort_id"}},[i("el-select",{staticClass:"add_input",model:{value:t.editData.sort_id,callback:function(e){t.$set(t.editData,"sort_id",e)},expression:"editData.sort_id"}},t._l(t.sortList,function(t,e){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),1==t.editData.status?i("el-form-item",{attrs:{label:"入库数量",prop:"stock"}},[i("el-input",{attrs:{readonly:""},model:{value:t.editData.stock,callback:function(e){t.$set(t.editData,"stock",e)},expression:"editData.stock"}})],1):i("el-form-item",{attrs:{label:"入库数量",prop:"stock"}},[i("el-input",{model:{value:t.editData.stock,callback:function(e){t.$set(t.editData,"stock",e)},expression:"editData.stock"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"单位",prop:"unit"}},[i("el-select",{staticClass:"add_input",attrs:{placeholder:""},model:{value:t.editData.unit,callback:function(e){t.$set(t.editData,"unit",e)},expression:"editData.unit"}},t._l(t.unitList,function(t,e){return i("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"分类",prop:"dangerous"}},[i("el-select",{staticClass:"add_input",model:{value:t.editData.dangerous,callback:function(e){t.$set(t.editData,"dangerous",e)},expression:"editData.dangerous"}},t._l(t.dangerousList,function(t,e){return i("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})}))],1),t._v(" "),i("el-form-item",{staticClass:"time",attrs:{label:"下次维修时间"}},[i("el-date-picker",{attrs:{type:"date","picker-options":t.pickerOptions1},on:{change:function(e){t.changeEditDate()}},model:{value:t.editData.overdue_at,callback:function(e){t.$set(t.editData,"overdue_at",e)},expression:"editData.overdue_at"}})],1),t._v(" "),i("el-form-item",{staticClass:"label_id",attrs:{label:"电子标签ID",prop:"frid_number"}},[i("el-input",{attrs:{disabled:""},model:{value:t.editData.frid_number,callback:function(e){t.$set(t.editData,"frid_number",e)},expression:"editData.frid_number"}})],1),t._v(" "),i("el-form-item",{staticClass:"address",attrs:{label:"存放位置",prop:""}},[i("el-input",{model:{value:t.editData.s_content,callback:function(e){t.$set(t.editData,"s_content",e)},expression:"editData.s_content"}}),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.chooseAddress()}}},[t._v("选择位置")])],1),t._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"introduce"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.editData.introduce,callback:function(e){t.$set(t.editData,"introduce",e)},expression:"editData.introduce"}})],1)],1),t._v(" "),i("div",{staticClass:"btn"},[i("el-button",{on:{click:function(e){t.submitEdit("editData")}}},[t._v("确认")])],1)],1)])]):t._e(),t._v(" "),t.mapStatus?i("div",{staticClass:"map_box"},[i("div",{staticClass:"shelf_map"},[i("div",{staticClass:"map_title"},[i("span",[t._v("选择上架位置")]),t._v(" "),i("i",{staticClass:"el-icon-close",on:{click:function(e){t.closeShelfMap()}}})]),t._v(" "),i("div",{staticClass:"tip"},[i("span",[t._v("当前所选位置：")]),t._v(" "),i("span",{staticClass:"address"},[t._v(t._s(t.selectLocation.name))])]),t._v(" "),i("div",{staticClass:"right_list",attrs:{id:"sideBox"}},[i("ul",t._l(t.pointData,function(e,a){return i("li",{key:a,class:a==t.selectIndex?"is_active":"",on:{click:function(i){t.chooseLocationRightClick(e,a)}}},[t._v("\n                        "+t._s(e.name)+"\n                        "),i("span",{staticClass:"iconfont el-icon-pharmaceutical_administration-dingwei-"})])}))]),t._v(" "),i("div",{staticClass:"map_main"},[i("img",{attrs:{src:a("yQ30"),alt:""}}),t._v(" "),i("ul",{staticClass:"point_list"},t._l(t.pointData,function(e,a){return i("li",{key:a,staticClass:"iconfont el-icon-pharmaceutical_administration-dingwei-",class:a==t.selectIndex?"active":"",style:"position: absolute;top: "+e.y+"px;left:"+e.x+"px;",on:{click:function(i){t.chooseLocationClick(e,a)}}},[i("div",{style:a==t.selectIndex?"display:block;":"display:none;"},[t._v("\n                            "+t._s(e.name)+"\n                            "),i("span")])])})),t._v(" "),i("div",{staticClass:"btn"},[i("el-button",{on:{click:function(e){t.confirmShelfLocation()}}},[t._v("确认上架位置")])],1)])])]):t._e()],1)},staticRenderFns:[]};var c=a("VU/8")(r,d,!1,function(t){a("JDwY")},null,null);e.default=c.exports},JDwY:function(t,e){}});
//# sourceMappingURL=3.2736a86f634566e2e61b.js.map
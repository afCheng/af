{"version":3,"sources":["webpack:///src/components/AddManifest.vue","webpack:///./src/components/AddManifest.vue?3135","webpack:///./src/components/AddManifest.vue"],"names":["required","message","trigger","name","getUserId","_this","this","item_type","searchInput","then","response","data","total","stock","_this2","id","_this3","_this4","val","x","unit","index","focus","_i6","resetFields","myId","approver","use","remarks","describe","myManifestChooseList","getAllList","components_AddManifest","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","attrs","autocomplete","placeholder","type","rows","validateevent","suffixicon","domProps","on","keyup","$event","_k","keyCode","key","undefined","searchSortClick","input","target","composing","_v","click","_m","change","ChangeType","model","callback","$$v","stockOptionsValue","_l","item","label","staticStyle","width","row-key","expand-row-keys","expands","basicData","stripe","row-click","rowClick","prop","scopedSlots","_u","fn","scope","src","__webpack_require__","alt","_e","_s","row","list","length","props","item_name","class","is_NaN","maxlength","blur","chooseMyList","nativeOn","checkMyChoose","$set","style","showRight","text-align","margin-top","current-page","pageIndex","page-size","layout","pageTotal","current-change","handleCurrentChange","update:currentPage","submitList","ref","manifestList","tooltip-effect","max-height","selection-change","handleReceivedChange","is_editIndex","$index","autofocus","editNumber","inputFocus","checkNumber","display","editClick","removeRow","closeModelBox","ruleForm","rules","label-width","resize","submitForm","staticRenderFns","Component","normalizeComponent","AddManifest","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.5e270915cebd4455abf7.js","sourcesContent":["<template>\r\n    <div class=\"manifest\">\r\n        <div class=\"search\">\r\n            <div class=\"search_input el-input el-input--suffix\">\r\n                <input autocomplete=\"off\" v-model=\"searchInput\" placeholder=\"请按大类名称搜索\" type=\"text\" rows=\"2\" validateevent=\"true\"\r\n                       suffixicon=\"el-icon-search\" class=\"p_search el-input__inner\" @keyup.enter.active=\"searchSortClick()\">\r\n                <span class=\"el-input__suffix\" @click=\"searchSortClick()\">\r\n                    <span class=\"el-input__suffix-inner\">\r\n                        <i class=\"el-input__icon iconfont el-icon-pharmaceutical_administration-sousuo\"></i>\r\n                    </span>\r\n                </span>\r\n            </div>\r\n            <el-select  class=\"select_input\" v-model=\"stockOptionsValue\" @change=\"ChangeType()\">\r\n                <el-option\r\n                        v-for=\"item in stockSearchOptions\"\r\n                        :key=\"item.value\"\r\n                        :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n        </div>\r\n        <el-table class=\"big_table\" row-key=\"id\" :expand-row-keys=\"expands\" @row-click=\"rowClick\"\r\n                    :data=\"basicData\" stripe style=\"width: 100%\">\r\n            <!-- :key=\"Math.random()\"-->\r\n            <el-table-column prop=\"id\" label=\"大类编号\" width=\"187.5\"></el-table-column>\r\n            <el-table-column prop=\"pic\" label=\"大类图片\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <img v-if=\"stockOptionsValue == 1\" src=\"../../static/pic_yaoji.png\" alt=\"\">\r\n                    <img v-if=\"stockOptionsValue == 2\" src=\"../../static/pic_yiqi.png\" alt=\"\">\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"sort_name\" label=\"大类名称\" width=\"372\"></el-table-column>\r\n            <el-table-column label=\"数量\">\r\n                <template slot-scope=\"scope\">\r\n                    <span>{{ scope.row.list.length }}</span><span v-if=\"stockOptionsValue == 1\">瓶</span><span v-if=\"stockOptionsValue == 2\">个</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column type=\"expand\">\r\n                <template slot-scope=\"props\">\r\n                    <ul>\r\n                        <li v-for=\"(item,index) in props.row.list\" :key=\"index\">\r\n                            <span class=\"name\">{{ item.item_name }}</span><el-input maxlength=\"8\"\r\n                                @blur=\"chooseMyList(item,props.row.unit)\" @keyup.native=\"checkMyChoose(item)\"\r\n                                :class=\"item.is_NaN ? 'is_NaN': ''\" v-model=\"item.stock\"></el-input>\r\n                            <span>{{ props.row.unit }}</span>\r\n                            <i :style=\"item.showRight ? '' : 'display:none;'\" class=\"el-icon-check\"></i>\r\n                        </li>\r\n                    </ul>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <!--分页-->\r\n        <div class=\"block\" style=\"text-align: center;margin-top: 30px;\">\r\n            <el-pagination\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page.sync=\"pageIndex\"\r\n                    :page-size=\"4\"\r\n                    layout=\"total, prev, pager, next, jumper\"\r\n                    :total=\"pageTotal\">\r\n            </el-pagination>\r\n        </div>\r\n        <div class=\"btn\">\r\n            <h3>申领清单列表</h3>\r\n            <el-button v-if=\"myManifestChooseList.length != 0\" @click=\"submitList()\">提交清单</el-button>\r\n        </div>\r\n        <!--清单列表-->\r\n        <el-table class=\"my_list\" ref=\"myManifestListTable\" :data=\"manifestList\" stripe tooltip-effect=\"dark\"\r\n            style=\"width: 100%\" @selection-change=\"handleReceivedChange\" max-height=\"300\">\r\n            <el-table-column type=\"selection\" width=\"97\"></el-table-column>\r\n            <el-table-column prop=\"item_name\" label=\"小类物品名称\" width=\"263\"></el-table-column>\r\n            <el-table-column  label=\"申请数量\" width=\"351\">\r\n                <template slot-scope=\"scope\">\r\n                    <span class=\"number_show\" :class=\"scope.row.is_NaN ? 'is_false': ''\" v-if=\"is_editIndex != scope.$index\">{{ scope.row.stock }}</span><el-input\r\n                        :class=\"scope.row.is_NaN ? 'is_NaN': ''\" class=\"input_click\" maxlength=\"8\"\r\n                        v-if=\"is_editIndex == scope.$index\" :autofocus=\"true\" :ref=\"scope.$index\"\r\n                        v-model=\"scope.row.stock\" @keyup.native=\"checkNumber(scope.row)\"\r\n                        @blur=\"editNumber(scope.row)\" @focus=\"inputFocus()\"></el-input><span style=\"display: inline-block;\">{{ scope.row.unit }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                    <i class=\"iconfont el-icon-pharmaceutical_administration-xiugai\" @click=\"editClick(scope.$index)\"></i>\r\n                    <!--<i class=\"el-icon-close operating_click\" @click=\"removeRow(scope.$index, manifestList)\"></i>-->\r\n                    <i class=\"el-icon-close operating_click\" @click=\"removeRow(scope.row)\"></i>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <!--模态框-->\r\n        <div class=\"model_box\" v-if=\"showTextModel\">\r\n            <div class=\"form_box\">\r\n                <div class=\"form_title\">\r\n                    <span>提交清单</span>\r\n                    <i class=\"el-icon-close\" @click=\"closeModelBox()\"></i>\r\n                </div>\r\n                <div class=\"form_main\">\r\n                    <h3>清单概况</h3>\r\n                    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n                        <el-form-item label=\"描述\" prop=\"describe\">\r\n                            <el-input resize=\"none\" type=\"textarea\" v-model=\"ruleForm.describe\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"用途\" prop=\"use\">\r\n                            <el-input resize=\"none\" type=\"textarea\" v-model=\"ruleForm.use\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"备注\">\r\n                            <el-input resize=\"none\" type=\"textarea\" v-model=\"ruleForm.remarks\"></el-input>\r\n                        </el-form-item>\r\n                        <div class=\"btn23\">\r\n                            <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确认并提交</el-button>\r\n                        </div>\r\n                    </el-form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                searchInput: '',   //搜索值\r\n                //物品类型\r\n                stockSearchOptions: [\r\n                    {\r\n                        value: '1',\r\n                        label: '药品试剂'\r\n                    },\r\n                    {\r\n                        value: '2',\r\n                        label: '仪器设备'\r\n                    },\r\n                ],\r\n                stockOptionsValue: '1',\r\n                //基本大类列表\r\n                basicData: [],\r\n                // 要展开的行，数值的元素是row的key值\r\n                expands: [],\r\n                pageIndex: 1,       //第几页\r\n                pageTotal: 0,\r\n                //清单列表\r\n                manifestList: [],\r\n                myManifestChooseList: [],   //多选选中的清单列表\r\n                is_editIndex: -1,           //申请的清单列表编辑index\r\n                //模态框\r\n                showTextModel: false,\r\n                ruleForm: {\r\n                    describe:'',            //描述\r\n                    use: '',            //用途\r\n                    remarks: '',        //备注\r\n                },\r\n                rules: {\r\n                    describe: [\r\n                        {required: true, message: '请输入描述', trigger: 'blur'},\r\n                    ],\r\n                    use: [\r\n                        {required: true, message: '请输入用途', trigger: 'blur'},\r\n                    ],\r\n                },\r\n                myName: '',\r\n                myId: '',\r\n                approver: '王伟强',    //审批人  暂时写死\r\n            }\r\n        },\r\n        created() {\r\n            this.myName = JSON.parse(localStorage.getItem('user')).name;\r\n            this.getAllList(); //获取大类库存列表\r\n            this.getUserId();\r\n        },\r\n        mounted() {\r\n            //使select的input的光标消失（IE  360兼容模式）\r\n            let inputs = document.getElementsByClassName('select_input')[0].childNodes[1].children[0]\r\n            inputs.setAttribute(\"unselectable\", \"on\");\r\n        },\r\n        methods: {\r\n            searchSortClick(){\r\n                let item_type = '';\r\n                if(this.stockOptionsValue == 1){\r\n                    item_type = '药品试剂';\r\n                } else if(this.stockOptionsValue == 2){\r\n                    item_type = '仪器设备';\r\n                }\r\n                this.$axios.post('/sort-item',{\r\n                    item_type: item_type,\r\n                    sort_name: this.searchInput,\r\n                    number: 4,\r\n                }).then((response)=>{\r\n                    this.expands = [];\r\n//            \t\tconsole.log(response);\r\n                    if(response.data.data){\r\n                        this.basicData = response.data.data.data;\r\n                        this.pageTotal = response.data.data.total;\r\n                        for(let y in this.basicData){\r\n                            if(this.basicData[y].photo == null){\r\n                                this.basicData[y].pic = null\r\n                            } else {\r\n                                this.basicData[y].pic = this.basicData[i].photo.split('/')[1]\r\n                            }\r\n                            //重置？\r\n                            for(let z in this.basicData[y].list){\r\n//                                this.basicData[y].list[z].stock = '';\r\n                                this.basicData[y].list[z].showRight = false;\r\n                                this.basicData[y].list[z].is_NaN = false;\r\n                                //填上申请量\r\n                                for (let x in this.manifestList) {\r\n                                    if(this.manifestList[x].item_name == this.basicData[y].list[z].item_name){\r\n                                        this.basicData[y].list[z].stock = this.manifestList[x].stock;\r\n                                        if(this.basicData[y].list[z].stock == ''){\r\n                                        } else {\r\n                                            //判断是否为数字值\r\n                                            if(isNaN(this.basicData[y].list[z].stock)){\r\n                                                //不是\r\n                                                this.$set(this.basicData[y].list[z],\"is_NaN\", true);\r\n                                            } else {\r\n                                                if(Number (this.basicData[y].list[z].stock) < 0){\r\n                                                    this.$set(this.basicData[y].list[z],\"is_NaN\", true);\r\n                                                } else {\r\n                                                    //正确数据\r\n                                                    this.$set(this.basicData[y].list[z],\"is_NaN\", false);\r\n                                                    this.$set(this.basicData[y].list[z],\"showRight\", true);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        this.basicData = [];\r\n                        this.pageTotal = 0;\r\n                    }\r\n                }).catch((error)=>{})\r\n            },\r\n            //获取用户id 在这是用户名称 查询user表获取\r\n            getUserId(){\r\n                this.$axios.post('/user-list').then((response) => {\r\n//\t\t\t\t\tconsole.log(response)\r\n                    for(let i in response.data.data.data){\r\n                        if(response.data.data.data[i].name == this.myName){\r\n                            this.myId = response.data.data.data[i].id\r\n                        }\r\n                    }\r\n//                    console.log(this.myId)\r\n                })\r\n            },\r\n            //获取大类库存列表（现在是被上架的大类物品列表）\r\n            getAllList(){\r\n                let item_type = '';\r\n                if(this.stockOptionsValue == 1){\r\n                    item_type = '药品试剂';\r\n                } else if(this.stockOptionsValue == 2){\r\n                    item_type = '仪器设备';\r\n                }\r\n                this.$axios.post('/sort-item',{\r\n                    item_type: item_type,\r\n                    number: 4,\r\n                }).then((response)=>{\r\n//            \t\tconsole.log(response);\r\n                    if(response.data.data){\r\n                        this.basicData = response.data.data.data;\r\n                        this.pageTotal = response.data.data.total;\r\n                        for(let y in this.basicData){\r\n                            if(this.basicData[y].photo == null){\r\n                                this.basicData[y].pic = null\r\n                            } else {\r\n                                this.basicData[y].pic = this.basicData[i].photo.split('/')[1]\r\n                            }\r\n                            //重置？   一开始不能做这个操作  因为没有给唯一标识  会使数据重复显示\r\n//                            for(let z in this.basicData[y].list){\r\n//                                this.basicData[y].list[z].stock = '';\r\n//                                this.basicData[y].list[z].showRight = false;\r\n//                                this.basicData[y].list[z].is_NaN = false;\r\n//                            }\r\n                        }\r\n                    } else {\r\n                        this.basicData = [];\r\n                        this.pageTotal = 0;\r\n                    }\r\n                }).catch((error)=>{})\r\n            },\r\n            //选择物品类型\r\n            ChangeType(){\r\n                this.searchInput = '';\r\n                this.pageIndex = 1;\r\n                let item_type = '';\r\n                if(this.stockOptionsValue == 1){\r\n                    item_type = '药品试剂';\r\n                } else if(this.stockOptionsValue == 2){\r\n                    item_type = '仪器设备';\r\n                }\r\n                this.$axios.post('/sort-item',{\r\n                    item_type: item_type,\r\n                    number: 4,\r\n                }).then((response)=>{\r\n                    this.expands = [];\r\n//\t\t\t\t\tconsole.log(response)\r\n                    if(response.data.data){\r\n                        this.pageTotal = response.data.data.total;\r\n                        this.basicData = response.data.data.data;\r\n                        for(let y in this.basicData){\r\n                            if(this.basicData[y].photo == null){\r\n                                this.basicData[y].pic = null\r\n                            } else {\r\n                                this.basicData[y].pic = this.basicData[y].photo.split('/')[1]\r\n                            }\r\n                            //重置？\r\n                            for(let z in this.basicData[y].list){\r\n//                                this.basicData[y].list[z].stock = '';\r\n                                this.basicData[y].list[z].showRight = false;\r\n                                this.basicData[y].list[z].is_NaN = false;\r\n                                //填上申请量\r\n                                for (let x in this.manifestList) {\r\n                                    if(this.manifestList[x].item_name == this.basicData[y].list[z].item_name){\r\n                                        this.basicData[y].list[z].stock = this.manifestList[x].stock;\r\n                                        if(this.basicData[y].list[z].stock == ''){\r\n                                        } else {\r\n                                            //判断是否为数字值\r\n                                            if(isNaN(this.basicData[y].list[z].stock)){\r\n                                                //不是\r\n                                                this.$set(this.basicData[y].list[z],\"is_NaN\", true);\r\n                                            } else {\r\n                                                if(Number (this.basicData[y].list[z].stock) < 0){\r\n                                                    this.$set(this.basicData[y].list[z],\"is_NaN\", true);\r\n                                                } else {\r\n                                                    //正确数据\r\n                                                    this.$set(this.basicData[y].list[z],\"is_NaN\", false);\r\n                                                    this.$set(this.basicData[y].list[z],\"showRight\", true);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        this.pageTotal = 0;\r\n                        this.basicData = [];\r\n                    }\r\n                }).catch(error => {})\r\n            },\r\n            //展开行\r\n            rowClick(row, event, column) {\r\n//                console.log(row);\r\n                Array.prototype.remove = function (val) {\r\n                    let index = this.indexOf(val);\r\n                    if (index > -1) {\r\n                        this.splice(index, 1);\r\n                    }\r\n                };\r\n                if (this.expands.indexOf(row.id) < 0) {\r\n                    this.expands = [];      //清除原本的 （关闭之前打开的）\r\n                    this.expands.push(row.id);\r\n                } else {\r\n                    this.expands.remove(row.id);\r\n                }\r\n            },\r\n            //分页\r\n            handleCurrentChange(val) {\r\n//\t\t\t\tconsole.log(`当前页: ${val}`);\r\n                let item_type = '';\r\n                if(this.stockOptionsValue == 1){\r\n                    item_type = '药品试剂';\r\n                } else if(this.stockOptionsValue == 2){\r\n                    item_type = '仪器设备';\r\n                }\r\n                this.$axios.post('/sort-item',{\r\n                    item_type: item_type,\r\n                    number: 4,\r\n                    page: val,\r\n                }).then((response)=>{\r\n                    this.expands = [];\r\n    //\t\t\t\t\tconsole.log(response)\r\n                    if(response.data.data){\r\n                        this.pageTotal = response.data.data.total;\r\n                        this.basicData = response.data.data.data;\r\n                        for(let y in this.basicData){\r\n                            if(this.basicData[y].photo == null){\r\n                                this.basicData[y].pic = null\r\n                            } else {\r\n                                this.basicData[y].pic = this.basicData[y].photo.split('/')[1]\r\n                            }\r\n                            //重置？\r\n                            for(let z in this.basicData[y].list){\r\n//                                this.basicData[y].list[z].stock = '';\r\n                                this.basicData[y].list[z].showRight = false;\r\n                                this.basicData[y].list[z].is_NaN = false;\r\n                                //填上申请量\r\n                                for (let x in this.manifestList) {\r\n                                    if(this.manifestList[x].item_name == this.basicData[y].list[z].item_name){\r\n                                        this.basicData[y].list[z].stock = this.manifestList[x].stock;\r\n                                        if(this.basicData[y].list[z].stock == ''){\r\n                                        } else {\r\n                                            //判断是否为数字值\r\n                                            if(isNaN(this.basicData[y].list[z].stock)){\r\n                                                //不是\r\n                                                this.$set(this.basicData[y].list[z],\"is_NaN\", true);\r\n                                            } else {\r\n                                                if(Number (this.basicData[y].list[z].stock) < 0){\r\n                                                    this.$set(this.basicData[y].list[z],\"is_NaN\", true);\r\n                                                } else {\r\n                                                    //正确数据\r\n                                                    this.$set(this.basicData[y].list[z],\"is_NaN\", false);\r\n                                                    this.$set(this.basicData[y].list[z],\"showRight\", true);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        this.pageTotal = 0;\r\n                        this.basicData = [];\r\n                    }\r\n                    //获取被选择的小类 并填上申请量\r\n//                    for (let y in this.basicData) {\r\n//                        for(let z in this.basicData[y].list){\r\n//                            for (let x in this.manifestList) {\r\n//                                if(this.manifestList[x].item_name == this.basicData[y].list[z].item_name){\r\n//                                    this.basicData[y].list[z].stock = this.manifestList[x].stock;\r\n//                                    if(this.basicData[y].list[z].stock == ''){\r\n//                                    } else {\r\n//                                        //判断是否为数字值\r\n//                                        if(isNaN(this.basicData[y].list[z].stock)){\r\n//                                            //不是\r\n//                                            this.$set(this.basicData[y].list[z],\"is_NaN\", true);\r\n//                                        } else {\r\n//                                            if(Number (this.basicData[y].list[z].stock) < 0){\r\n//                                                this.$set(this.basicData[y].list[z],\"is_NaN\", true);\r\n//                                            } else {\r\n//                                                //正确数据\r\n//                                                this.$set(this.basicData[y].list[z],\"is_NaN\", false);\r\n//                                                this.$set(this.basicData[y].list[z],\"showRight\", true);\r\n//                                            }\r\n//                                        }\r\n//                                    }\r\n//                                }\r\n//                            }\r\n//                        }\r\n//                    }\r\n                }).catch((error) => {})\r\n            },\r\n            //选择小类  进行输入量  失去焦点\r\n            chooseMyList(val,unit){\r\n//                console.log(val)\r\n                if(val.stock == ''){\r\n                    this.$set(val,\"showRight\", false);\r\n                    //移除列表的数据\r\n                    for(let i in this.manifestList){\r\n                        if (this.manifestList[i].item_name == val.item_name) {\r\n                            this.manifestList.splice(i, 1);\r\n                        }\r\n                    }\r\n                } else {\r\n                    //判断是否为数字值\r\n                    if(isNaN(val.stock)){\r\n                        //不是\r\n                        this.$set(val,\"is_NaN\", true);\r\n                        this.$set(val,\"showRight\", false);\r\n                        this.$message({\r\n                            type: 'warning',\r\n                            message: '请输入数字!',\r\n                            duration: '1500',\r\n                        });\r\n                        for(let i in this.manifestList){\r\n                            if (this.manifestList[i].item_name == val.item_name) {\r\n                                this.manifestList.splice(i, 1);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if(Number (val.stock) < 0){\r\n                            this.$set(val,\"is_NaN\", true);\r\n                            this.$set(val,\"showRight\", false);\r\n                            this.$message({\r\n                                type: 'warning',\r\n                                message: '输入的值不能小于0!',\r\n                                duration: '1500',\r\n                            });\r\n                            for(let i in this.manifestList){\r\n                                if (this.manifestList[i].item_name == val.item_name) {\r\n                                    this.manifestList.splice(i, 1);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            //正确数据\r\n                            this.$set(val,\"is_NaN\", false);\r\n                            this.$set(val,\"showRight\", true);\r\n                            let data = true;    //勾选数据\r\n                            let index = '';     //数据下标\r\n                            for (let x in this.manifestList) {  //我的清单列表\r\n                                if (this.manifestList[x].item_name == val.item_name) {\r\n                                    data = false;\r\n                                    index = x;\r\n                                }\r\n                            }\r\n                            if (data) {\r\n                                val.unit = unit;\r\n                                val.is_NaN = false;\r\n                                this.manifestList.push(val);\r\n                            } else {\r\n                                val.unit = unit;\r\n                                val.is_NaN = false;\r\n                                this.manifestList.splice(index, 1, val);\r\n//                        this.$set(this.manifestList, index, val);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            //修改输入值\r\n            checkMyChoose(val){\r\n//                console.log(val.stock)\r\n                this.$set(val,\"is_NaN\", false);//显示正常样式\r\n            },\r\n            //清单列表多选  改变\r\n            handleReceivedChange(val) {\r\n//\t\t\t    console.log(val)\r\n                this.myManifestChooseList = val;\r\n            },\r\n            //编辑操作\r\n            editClick(index){\r\n                this.is_editIndex = index;\r\n                this.expands = [];\r\n                this.$nextTick(function () {\r\n                    this.$refs[index].focus()\r\n                })\r\n            },\r\n            //编辑某一项数据  监听按键输入\r\n            checkNumber(val){\r\n//                console.log(val);\r\n                this.$set(val,\"is_NaN\", false);\r\n            },\r\n            //获取焦点时\r\n            inputFocus(){\r\n                this.expands = [];\r\n            },\r\n            //失去焦点时\r\n            editNumber(val){\r\n                if(val.stock == ''){\r\n//                    //移除列表的数据\r\n//                    for(let i in this.manifestList){\r\n//                        if (this.manifestList[i].item_name == val.item_name) {\r\n//                            this.manifestList.splice(i, 1);\r\n//                        }\r\n//                    }\r\n                    //不能为空？\r\n\r\n                } else {\r\n                    //判断是否为数字值\r\n                    if(isNaN(val.stock)){\r\n                        //不是\r\n                        this.$set(val,\"is_NaN\", true);\r\n                        this.$message({\r\n                            type: 'warning',\r\n                            message: '请输入数字!',\r\n                            duration: '1500',\r\n                        });\r\n                    } else {\r\n                        if(Number (val.stock) < 0){\r\n                            this.$set(val,\"is_NaN\", true);\r\n                            this.$message({\r\n                                type: 'warning',\r\n                                message: '输入的值不能小于0!',\r\n                                duration: '1500',\r\n                            });\r\n                        } else {\r\n                            //正确数据\r\n                            this.$set(val,\"is_NaN\", false);\r\n                            this.is_editIndex = -1;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            //移除\r\n            removeRow(row){\r\n//                rows.splice(index, 1);\r\n//                console.log(row)\r\n                //删除清单列表中的这一项\r\n                for(let i in this.manifestList){\r\n                    if(this.manifestList[i].item_name == row.item_name){\r\n                        this.manifestList.splice(i,1)\r\n                    }\r\n                }\r\n                //将大类数据中的该项数据重置\r\n                for(let x in this.basicData){\r\n                    for(let y in this.basicData[x].list){\r\n                        if(this.basicData[x].list[y].item_name == row.item_name){\r\n                            this.basicData[x].list[y].stock = '';\r\n                            this.basicData[x].list[y].showRight = false;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            //提交清单按钮\r\n            submitList(){\r\n//                console.log(this.myManifestChooseList)\r\n                let flag = true;\r\n                for(let i in this.myManifestChooseList){\r\n                    console.log(this.myManifestChooseList[i])\r\n                    if(this.myManifestChooseList[i].is_NaN){\r\n                        flag = false;\r\n                        break;\r\n                    } else {\r\n\r\n                    }\r\n                }\r\n                if(flag){\r\n                    this.showTextModel = true;\r\n                } else {\r\n                    this.$message({\r\n                        type: 'warning',\r\n                        message: '选中的数据有异常，请修改!',\r\n                        duration: '1500',\r\n                    });\r\n                }\r\n            },\r\n            //关闭清单信息模态框\r\n            closeModelBox(){\r\n                this.$refs['ruleForm'].resetFields();\r\n                this.ruleForm.remarks = '';\r\n                this.showTextModel= false;\r\n            },\r\n            //确认并提交\r\n            submitForm(formName) {\r\n//                console.log(this.myManifestChooseList)\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n//                        alert('submit!');\r\n                        this.$axios.post('/manifest-edit', {\r\n                            user_id: this.myId,\r\n                            approver: this.approver,\r\n                            item_use: this.ruleForm.use,\r\n                            remarks: this.ruleForm.remarks,\r\n                            describe: this.ruleForm.describe,\r\n                            apply: this.myManifestChooseList,\r\n                        }).then((response) => {\r\n//                            console.log(response)\r\n                            if(response.data.status == 0){\r\n                                this.$message({\r\n                                    type: 'success',\r\n                                    message: '申领提交成功!',\r\n                                    duration: '1500',\r\n                                });\r\n                                this.$refs['ruleForm'].resetFields();\r\n                                this.ruleForm.remarks = '';\r\n                                this.myManifestChooseList = [];\r\n                                this.manifestList = [];\r\n                                this.expands = [];\r\n                                this.getAllList();\r\n                                this.showTextModel = false;\r\n                            }\r\n                        })\r\n                    } else {\r\n//                        console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    .manifest {\r\n        padding: 23px 24.5px 30px 23px;\r\n        background-color: #fff;\r\n        .search {\r\n            .el-input.search_input{\r\n                width: 366px;\r\n                height: 30px;\r\n                border-radius: 13px;\r\n                margin-right: 26.2px;\r\n                .el-input__inner{\r\n                    background-color: #f1f1f3;\r\n                    height: 30px;\r\n                    border-radius: 20px;\r\n                    line-height: 30px;\r\n                    border: 0;\r\n                }\r\n                .el-input__icon{\r\n                    line-height: 30px;\r\n                }\r\n                .el-input__suffix {\r\n                    i{\r\n                        &:before {\r\n                            border-radius: 20px;\r\n                            display: block;\r\n                            width: 25px;\r\n                            height: 25px;\r\n                            line-height: 25px;\r\n                            font-size: 16px;\r\n                            background-color: #5ca8e7;\r\n                            color: #ffffff;\r\n                            text-align: center;\r\n                            margin-top: 2.5px;\r\n                            font-weight: bold;\r\n                            cursor: pointer;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            .el-select{\r\n                width: 106.9px;\r\n                margin-left: 15px;\r\n                .el-input__inner{\r\n                    background-color: #5ca8e7;\r\n                    color: #fff;\r\n                    border-radius: 22px;\r\n                    padding-left: 16px;\r\n                    font-size: 12px;\r\n                    height: 30px;\r\n                    line-height: 30px;\r\n                }\r\n                .el-input .el-select__caret{\r\n                    color: #fff;\r\n                }\r\n            }\r\n        }\r\n        //表格\r\n        .el-table{\r\n            //数字出错时的样式\r\n            span.is_false {\r\n                color: #f00;\r\n            }\r\n            //数字出错时的样式input\r\n            .is_NaN {\r\n                .el-input__inner{\r\n                    color: #f00;\r\n                }\r\n            }\r\n            //底线去除\r\n            td,th.is-leaf{\r\n                border-bottom: 0;\r\n            }\r\n            thead{\r\n                color: #fff;\r\n                th{\r\n                    font-weight: normal;\r\n                    background-color: #223241;\r\n                    padding: 11px 0;\r\n                    div.cell{\r\n                        line-height: 19px;\r\n                    }\r\n                }\r\n            }\r\n            tr{\r\n                td{\r\n                    padding: 0;\r\n                    div.cell{\r\n                        line-height: 42px;\r\n                        height: 42px;\r\n                    }\r\n                }\r\n            }\r\n            //多选\r\n            .el-checkbox__inner{\r\n                border-radius: 20px;\r\n            }\r\n            img{\r\n                width: 71px;\r\n                height: 30px;\r\n                margin-top: 6px;\r\n            }\r\n        }\r\n        //大类列表\r\n        .big_table{\r\n            margin-top: 16px;\r\n            .has-gutter {\r\n                tr {\r\n                    //大类编号\r\n                    th:first-child {\r\n                        padding-left: 73px;\r\n                    }\r\n                }\r\n            }\r\n            tbody {\r\n                tr {\r\n                    //大类编号\r\n                    td:first-child {\r\n                        padding-left: 73px;\r\n                    }\r\n                    //小类展示\r\n                    td.el-table__expanded-cell{\r\n                        padding-left: 0;\r\n                        /*height: 153px;*/\r\n                        ul {\r\n                            background-color: rgba(92,168,231,0.14);\r\n                            /*padding-left: 620px;*/\r\n                            padding-left: 346px;\r\n                            /*text-align: center;*/\r\n                            li {\r\n                                height: 51px;\r\n                                line-height: 51px;\r\n                                span {\r\n                                    font-family: PingFangSC;\r\n                                    font-size: 14px;\r\n                                    color: #4a4a4a;\r\n                                    text-align: left;\r\n                                }\r\n                                .name {\r\n                                    display: inline-block;\r\n                                    width: 181px;\r\n                                }\r\n                                .el-input {\r\n                                    width: 193px;\r\n                                    height: 30px;\r\n                                    line-height: 30px;\r\n                                    background-color: #fff;\r\n                                    .el-input__inner {\r\n                                        height: 30px;\r\n                                        line-height: 30px;\r\n                                        border-radius: 3px;\r\n                                        border: 1px solid #c3c1c1;\r\n                                    }\r\n                                }\r\n                                i {\r\n                                    color: #5abfac;\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            //展开图标\r\n            .el-table__expand-icon>.el-icon{\r\n                /*display: none;*/\r\n            }\r\n        }\r\n        //展开行内的\r\n        .demo-table-expand {\r\n            font-size: 0;\r\n        }\r\n        .demo-table-expand label {\r\n            width: 90px;\r\n            color: #99a9bf;\r\n        }\r\n        .demo-table-expand .el-form-item {\r\n            margin-right: 0;\r\n            margin-bottom: 0;\r\n            width: 50%;\r\n        }\r\n        .btn {\r\n            height: 50px;\r\n            line-height: 50px;\r\n            h3 {\r\n                width: 167.4px;\r\n                height: 22px;\r\n                font-family: PingFangSC;\r\n                font-size: 16px;\r\n                font-weight: 500;\r\n                letter-spacing: 0;\r\n                text-align: left;\r\n                color: #4a4a4a;\r\n                float: left;\r\n            }\r\n            .el-button {\r\n                width: 102.3px;\r\n                height: 30px;\r\n                border-radius: 5px;\r\n                background-color: #5abfac;\r\n                padding: 0;\r\n                color: #fff;\r\n                float: right;\r\n            }\r\n        }\r\n        //清单列表\r\n        .my_list {\r\n            height: 300px;\r\n            .has-gutter {\r\n                tr {\r\n                    th:first-child {\r\n                        div.cell {\r\n                            padding-left: 34px;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            tbody {\r\n                tr {\r\n                    td:first-child {\r\n                        div.cell {\r\n                            padding-left: 34px;\r\n                        }\r\n                    }\r\n                    td {\r\n                        .el-input{\r\n                            display: inline-block;\r\n                            width: 70px;\r\n                            .el-input__inner {\r\n                                padding: 0 5px;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                //数量\r\n                .number_show {\r\n                    display: inline-block;\r\n                    width: 70px;\r\n                }\r\n                //编辑\r\n                .iconfont {\r\n                    font-size: 20px;\r\n                    color: #5ca8e7;\r\n                    cursor: pointer;\r\n                }\r\n                //删除\r\n                .operating_click {\r\n                    display: inline-block;\r\n                    margin-left: 5px;\r\n                    color: #5ac8e7;\r\n                    font-size: 18px;\r\n                    cursor: pointer;\r\n                }\r\n            }\r\n        }\r\n        .model_box{\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            overflow: auto;\r\n            background-color: rgba(0,0,0,0.15);\r\n            z-index: 1000;\r\n            .form_box {\r\n                width: 784.1px;\r\n                height: 512px;\r\n                background-color: #fff;\r\n                position: absolute;\r\n                top: 193px;\r\n                left: 50%;\r\n                margin-left: -392px;\r\n                margin-bottom: 50px;\r\n                .form_title{\r\n                    height: 60px;\r\n                    line-height: 60px;\r\n                    text-align: center;\r\n                    background-color: #5ca8e7;\r\n                    position: relative;\r\n                    color: #fff;\r\n                    border-top-left-radius: 4px;\r\n                    border-top-right-radius: 4px;\r\n                    span {\r\n                        font-family: PingFangSC;\r\n                        font-size: 20px;\r\n                        color: #ffffff;\r\n                    }\r\n                    i {\r\n                        font-size: 27px;\r\n                        font-weight: 600;\r\n                        cursor: pointer;\r\n                        position: absolute;\r\n                        right: 15px;\r\n                        top: 15px;\r\n                    }\r\n                }\r\n                .form_main {\r\n                    padding-left: 46.1px;\r\n                    h3 {\r\n                        font-weight: 500;\r\n                        height: 22px;\r\n                        font-family: PingFangSC;\r\n                        margin-top: 16px;\r\n                        margin-bottom: 17px;\r\n                        font-size: 16px;\r\n                        letter-spacing: 0;\r\n                        text-align: left;\r\n                        color: #4a4a4a;\r\n                    }\r\n                    //表单\r\n                    .el-form.demo-ruleForm {\r\n                        .el-form-item {\r\n                            margin-bottom: 18px;\r\n                            label {\r\n                                width: 61px!important;\r\n                                padding-right: 0!important;\r\n                                height: 22px;\r\n                                font-family: PingFangSC;\r\n                                font-size: 16px;\r\n                                letter-spacing: 0;\r\n                                color: #4a4a4a;\r\n                            }\r\n                            .el-form-item__content{\r\n                                margin-left: 82px!important;\r\n                                .el-textarea {\r\n                                    width: 595px;\r\n                                    height: 60px;\r\n                                    .el-textarea__inner{\r\n                                        border-color: #b1afaf;\r\n                                        border-radius: 3px;\r\n                                        height: 60px;\r\n                                    }\r\n                                }\r\n                            }\r\n                            .el-form-item.is-success .el-input__inner, .el-form-item.is-success .el-input__inner:focus, .el-form-item.is-success .el-textarea__inner, .el-form-item.is-success .el-textarea__inner:focus{\r\n                                border-color: #b1afaf;\r\n                            }\r\n                        }\r\n                    }\r\n                    div.btn23 {\r\n                        text-align: center;\r\n                        margin-right: 46.1px;\r\n                        margin-top: 97px;\r\n                        .el-button {\r\n                            background-color: #5ca8e7;\r\n                            border: 1px solid #5ca8e7;\r\n                            box-shadow: 0 2px 4px 0 rgba(0,0,0,0.5);\r\n                            width: 172px;\r\n                            height: 42px;\r\n                            font-family: PingFangSC;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/AddManifest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"manifest\"},[_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search_input el-input el-input--suffix\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchInput),expression:\"searchInput\"}],staticClass:\"p_search el-input__inner\",attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请按大类名称搜索\",\"type\":\"text\",\"rows\":\"2\",\"validateevent\":\"true\",\"suffixicon\":\"el-icon-search\"},domProps:{\"value\":(_vm.searchInput)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")&&_vm._k($event.keyCode,\"active\",undefined,$event.key,undefined)){ return null; }_vm.searchSortClick()},\"input\":function($event){if($event.target.composing){ return; }_vm.searchInput=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"el-input__suffix\",on:{\"click\":function($event){_vm.searchSortClick()}}},[_vm._m(0)])]),_vm._v(\" \"),_c('el-select',{staticClass:\"select_input\",on:{\"change\":function($event){_vm.ChangeType()}},model:{value:(_vm.stockOptionsValue),callback:function ($$v) {_vm.stockOptionsValue=$$v},expression:\"stockOptionsValue\"}},_vm._l((_vm.stockSearchOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-table',{staticClass:\"big_table\",staticStyle:{\"width\":\"100%\"},attrs:{\"row-key\":\"id\",\"expand-row-keys\":_vm.expands,\"data\":_vm.basicData,\"stripe\":\"\"},on:{\"row-click\":_vm.rowClick}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"大类编号\",\"width\":\"187.5\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pic\",\"label\":\"大类图片\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.stockOptionsValue == 1)?_c('img',{attrs:{\"src\":require(\"../../static/pic_yaoji.png\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.stockOptionsValue == 2)?_c('img',{attrs:{\"src\":require(\"../../static/pic_yiqi.png\"),\"alt\":\"\"}}):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sort_name\",\"label\":\"大类名称\",\"width\":\"372\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.list.length))]),(_vm.stockOptionsValue == 1)?_c('span',[_vm._v(\"瓶\")]):_vm._e(),(_vm.stockOptionsValue == 2)?_c('span',[_vm._v(\"个\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('ul',_vm._l((props.row.list),function(item,index){return _c('li',{key:index},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.item_name))]),_c('el-input',{class:item.is_NaN ? 'is_NaN': '',attrs:{\"maxlength\":\"8\"},on:{\"blur\":function($event){_vm.chooseMyList(item,props.row.unit)}},nativeOn:{\"keyup\":function($event){_vm.checkMyChoose(item)}},model:{value:(item.stock),callback:function ($$v) {_vm.$set(item, \"stock\", $$v)},expression:\"item.stock\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(props.row.unit))]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-check\",style:(item.showRight ? '' : 'display:none;')})],1)}))]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\",staticStyle:{\"text-align\":\"center\",\"margin-top\":\"30px\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageIndex,\"page-size\":4,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.pageTotal},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.pageIndex=$event}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('h3',[_vm._v(\"申领清单列表\")]),_vm._v(\" \"),(_vm.myManifestChooseList.length != 0)?_c('el-button',{on:{\"click\":function($event){_vm.submitList()}}},[_vm._v(\"提交清单\")]):_vm._e()],1),_vm._v(\" \"),_c('el-table',{ref:\"myManifestListTable\",staticClass:\"my_list\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.manifestList,\"stripe\":\"\",\"tooltip-effect\":\"dark\",\"max-height\":\"300\"},on:{\"selection-change\":_vm.handleReceivedChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"97\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"item_name\",\"label\":\"小类物品名称\",\"width\":\"263\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"申请数量\",\"width\":\"351\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.is_editIndex != scope.$index)?_c('span',{staticClass:\"number_show\",class:scope.row.is_NaN ? 'is_false': ''},[_vm._v(_vm._s(scope.row.stock))]):_vm._e(),(_vm.is_editIndex == scope.$index)?_c('el-input',{ref:scope.$index,staticClass:\"input_click\",class:scope.row.is_NaN ? 'is_NaN': '',attrs:{\"maxlength\":\"8\",\"autofocus\":true},on:{\"blur\":function($event){_vm.editNumber(scope.row)},\"focus\":function($event){_vm.inputFocus()}},nativeOn:{\"keyup\":function($event){_vm.checkNumber(scope.row)}},model:{value:(scope.row.stock),callback:function ($$v) {_vm.$set(scope.row, \"stock\", $$v)},expression:\"scope.row.stock\"}}):_vm._e(),_c('span',{staticStyle:{\"display\":\"inline-block\"}},[_vm._v(_vm._s(scope.row.unit))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"iconfont el-icon-pharmaceutical_administration-xiugai\",on:{\"click\":function($event){_vm.editClick(scope.$index)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-close operating_click\",on:{\"click\":function($event){_vm.removeRow(scope.row)}}})]}}])})],1),_vm._v(\" \"),(_vm.showTextModel)?_c('div',{staticClass:\"model_box\"},[_c('div',{staticClass:\"form_box\"},[_c('div',{staticClass:\"form_title\"},[_c('span',[_vm._v(\"提交清单\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){_vm.closeModelBox()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form_main\"},[_c('h3',[_vm._v(\"清单概况\")]),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"describe\"}},[_c('el-input',{attrs:{\"resize\":\"none\",\"type\":\"textarea\"},model:{value:(_vm.ruleForm.describe),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"describe\", $$v)},expression:\"ruleForm.describe\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用途\",\"prop\":\"use\"}},[_c('el-input',{attrs:{\"resize\":\"none\",\"type\":\"textarea\"},model:{value:(_vm.ruleForm.use),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"use\", $$v)},expression:\"ruleForm.use\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"resize\":\"none\",\"type\":\"textarea\"},model:{value:(_vm.ruleForm.remarks),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remarks\", $$v)},expression:\"ruleForm.remarks\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"btn23\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"确认并提交\")])],1)],1)],1)])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"el-input__suffix-inner\"},[_c('i',{staticClass:\"el-input__icon iconfont el-icon-pharmaceutical_administration-sousuo\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-598c1402\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AddManifest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-598c1402\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddManifest.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddManifest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddManifest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-598c1402\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddManifest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AddManifest.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}